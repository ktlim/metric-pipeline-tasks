description: Compute metrics from matched catalogs
tasks:
  matchCatalogs: MatchedCatalogs.MatchedCatalogTask
  PA1:
    class: MatchedCatalogsAnalysis.MatchedCatalogAnalysisTask
    config:
      connections.package: validate_drp
      connections.metric: PA1
      python: |
        from MatchedCatalogMeasureTasks import PA1Task
        config.measure.retarget(PA1Task)
        config.measure.brightSnrMin = 50.0
  nsrcMeas:
    class: MatchedCatalogsAnalysis.MatchedCatalogAnalysisTask
    config:
      connections.package: info
      connections.metric: nsrcMeas
      python: |
        from MatchedCatalogMeasureTasks import NumSourcesTask
        config.measure.retarget(NumSourcesTask)
  agg_mean_PA1:
    class: MatchedCatalogsAggregation.MatchedCatalogsAggregationTask
    config:
      connections.package: validate_drp
      connections.metric: PA1
      connections.agg_name: Mean
  agg_median_PA1:
    class: MatchedCatalogsAggregation.MatchedCatalogsAggregationTask
    config:
      connections.package: validate_drp
      connections.metric: PA1
      connections.agg_name: Median
  agg_sum_nsrc:
    class: MatchedCatalogsAggregation.MatchedCatalogsAggregationTask
    config:
      connections.package: info
      connections.metric: nsrcMeas
      connections.agg_name: Sum
